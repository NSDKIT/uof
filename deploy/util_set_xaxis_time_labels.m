%% =========================================================
%  util_set_xaxis_time_labels.m  ―  グラフX軸の時刻ラベル設定
% =========================================================
%
%  【役割】
%    30分間隔（48点/日）のデータをプロットしたグラフに対して、
%    X軸を時刻表示（0:00〜24:00）に設定するユーティリティ関数。
%    グリッド表示・X軸範囲・目盛り・ラベルを一括設定する。
%
%  【呼び出し方法】
%    util_set_xaxis_time_labels(day_range)
%
%  【引数】
%    day_range : 表示する日数（1=1日分, 2以上=複数日分）
%                - 1日の場合: 3時間ごとに目盛り（0:00, 3:00, ..., 24:00）
%                - 複数日の場合: 12時間ごとに目盛り
%
%  【使用するスクリプト】
%    step5_calc_sigma_basic.m        ― σ計算グラフの描画
%    viz_compare_forecast_vs_actual.m ― 予測vs実績の比較グラフ
%    viz_plot_error_bar_by_day.m     ― 日別誤差棒グラフ
%
%  【注意事項】
%    - この関数はすでに figure が開かれている状態で呼び出すこと。
%    - X軸の点数は 48×day_range を前提としている。
%      異なるサンプリング間隔のデータには使用不可。
% =========================================================

function util_set_xaxis_time_labels(day_range)
grid on
if day_range==1
    d_t=3;   % 1日表示: 3時間ごとに目盛り
else
    d_t=12;  % 複数日表示: 12時間ごとに目盛り
end
xlim([1 48*day_range])
xticks(1:2*d_t:48*day_range)
xticklabels({'0:00','3:00','6:00','9:00','12:00','15:00','18:00','21:00','24:00',})
xlabel('時刻')
ylabel('')
end
